

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Recording simulations using NanoVer &mdash; NanoVer 0.1.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=23fdb008" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=23fdb008" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=82908574"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=f281be69"></script>
      <script src="../_static/custom.js?v=6d5f2585"></script>
      <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="The NanoVer gRPC protocol" href="base-protocol.html" />
    <link rel="prev" title="Trajectories and Frames" href="frames.html" />
 
<link rel="icon" type="image/x-icon" href="../_static/favicon.ico">
<link rel="icon" type="image/png" sizes="32x32" href="../_static/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../_static/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="../_static/favicon.png">
<link rel="mask-icon" href="../_static/favicon.svg" color="#5bbad5">

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            NanoVer
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../highlights.html">Highlights</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation &amp; Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/tutorials.html">Tutorials</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="concepts.html">Concepts</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="architecture.html">NanoVer Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="frames.html">Trajectories and Frames</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Recording simulations using NanoVer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#what-is-recorded">What is recorded</a></li>
<li class="toctree-l3"><a class="reference internal" href="#nanover-recording-format">NanoVer recording format</a></li>
<li class="toctree-l3"><a class="reference internal" href="#recording-with-python">Recording with Python</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#how-to-record">How to record</a></li>
<li class="toctree-l4"><a class="reference internal" href="#how-to-visualise-recordings">How to visualise recordings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#recording-with-the-rust-server">Recording with the Rust Server</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1">How to record</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4">How to visualise recordings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#reading-nanover-recordings-using-mdanalysis-in-python">Reading NanoVer recordings using MDAnalysis in python</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="base-protocol.html">The NanoVer gRPC protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="applications.html">Applications</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../modules.html">Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../citations.html">How to Cite NanoVer</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">NanoVer</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="concepts.html">Concepts</a></li>
      <li class="breadcrumb-item active">Recording simulations using NanoVer</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/concepts/recording.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="recording-simulations-using-nanover">
<h1>Recording simulations using NanoVer<a class="headerlink" href="#recording-simulations-using-nanover" title="Link to this heading"></a></h1>
<p>For a NanoVer session to be useful beyond the time the users spend in VR, it needs to be recorded.
This recording can then be analysed or played back to get insight. In this document, we describe how to record a NanoVer session and how to visualise the recording using inbuilt methods.</p>
<nav class="contents local" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#what-is-recorded" id="id5">What is recorded</a></p></li>
<li><p><a class="reference internal" href="#nanover-recording-format" id="id6">NanoVer recording format</a></p></li>
<li><p><a class="reference internal" href="#recording-with-python" id="id7">Recording with Python</a></p>
<ul>
<li><p><a class="reference internal" href="#how-to-record" id="id8">How to record</a></p></li>
<li><p><a class="reference internal" href="#how-to-visualise-recordings" id="id9">How to visualise recordings</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#recording-with-the-rust-server" id="id10">Recording with the Rust Server</a></p>
<ul>
<li><p><a class="reference internal" href="#id1" id="id11">How to record</a></p></li>
<li><p><a class="reference internal" href="#id4" id="id12">How to visualise recordings</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#reading-nanover-recordings-using-mdanalysis-in-python" id="id13">Reading NanoVer recordings using MDAnalysis in python</a></p></li>
</ul>
</nav>
<section id="what-is-recorded">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">What is recorded</a><a class="headerlink" href="#what-is-recorded" title="Link to this heading"></a></h2>
<p>NanoVer can record two different streams:</p>
<ul class="simple">
<li><p>the stream of simulation frames,</p></li>
<li><p>and the stream of updates of the shared state.</p></li>
</ul>
<p>These two streams are identical to the streams sent to the clients during the live recording,
with the addition of a timestamp that enables synchronisation of the streams during playback.
Each stream is stored in a separate file.</p>
<p>By convention, recordings of the frame stream have the <code class="docutils literal notranslate"><span class="pre">.traj</span></code> file extension,
while recordings of the shared state stream have the <code class="docutils literal notranslate"><span class="pre">.state</span></code> file extension.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>In order to pass the trajectory and state files to a NanoVer server via the
<code class="xref py py-class docutils literal notranslate"><span class="pre">PlaybackSimulation</span></code> class in the <a class="reference internal" href="../python/nanover.omni.playback.html#module-nanover.omni.playback" title="nanover.omni.playback"><code class="xref py py-mod docutils literal notranslate"><span class="pre">nanover.omni.playback</span></code></a> module,
they must adopt the above file extension conventions.</p>
</div>
</section>
<section id="nanover-recording-format">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">NanoVer recording format</a><a class="headerlink" href="#nanover-recording-format" title="Link to this heading"></a></h2>
<p>Each NanoVer recording file contains a header and a sequence of records:</p>
<ul>
<li><p>The header contains two fields, stored as little endian 8 bytes unsigned integers:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>a magic number, its value is 6661355757386708963</strong>. This value was chosen arbitrarily and needs to be the first
8 bytes of the file to indicate it is indeed a NanoVer recording. A file without this magic number is not a NanoVer
recording, however one should keep in mind that a file that starts with that value could still not be a valid
recording and should handle errors accordingly.</p></li>
<li><p><strong>the version of the file format</strong>. This version number dictates how the rest of the file will be written or parsed.
Any change to the file format needs to increment this file format version. The current version is 2.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Each record contains:</p>
<blockquote>
<div><ul>
<li><p>a timestamp encoded as a little endian 16 bytes unsigned integer that indicates the time, in microseconds,
since the beginning of the recording.
This timestamp indicates the timing of the records and allows synchronisation of a NanoVer trajectory and a state recording.</p></li>
<li><p>the size, in bytes, of the record; encoded as an 8 bytes little endian unsigned integer.</p></li>
<li><p>a <a class="reference internal" href="base-protocol.html#state-updates"><span class="std std-ref">StateUpdate</span></a> (NanoVer <em>shared state</em> recordings <strong>only</strong>), as a protobuf message.</p></li>
<li><p>a <code class="docutils literal notranslate"><span class="pre">GetFrameResponse</span></code> (NanoVer <em>trajectory</em> recordings <strong>only</strong>) as a protobuf message, comprising:</p>
<blockquote>
<div><ul class="simple">
<li><p>The <strong>frame index</strong>: this is generally an integer that gets incremented each time the server register a frame to broadcast.
However, its value is only significant when it is 0 as it means the frame needs to be reset,
for instance because the server loaded a new simulation.</p></li>
<li><p>The <strong>frame</strong> itself: this is an instance of the <a class="reference internal" href="frames.html#traj-and-frames"><span class="std std-ref">FrameData</span></a> class.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
</ul>
</section>
<section id="recording-with-python">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Recording with Python</a><a class="headerlink" href="#recording-with-python" title="Link to this heading"></a></h2>
<section id="how-to-record">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">How to record</a><a class="headerlink" href="#how-to-record" title="Link to this heading"></a></h3>
<p>NanoVer sessions can be recorded using the <a class="reference internal" href="../python/nanover.omni.record.html#module-nanover.omni.record" title="nanover.omni.record"><code class="xref py py-mod docutils literal notranslate"><span class="pre">nanover.omni.record</span></code></a> module.
Here is an example of how to define the file names and paths for the recording and pass them to the recording function:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">nanover.omni.record</span> <span class="kn">import</span> <span class="n">record_from_server</span>
<span class="c1"># Define the .traj and .state file names and paths</span>
<span class="n">traj_path</span> <span class="o">=</span> <span class="s1">&#39;path/to/simulation_recording.traj&#39;</span>
<span class="n">state_path</span> <span class="o">=</span> <span class="s1">&#39;path/to/simulation_recording.state&#39;</span>
<span class="c1"># create a recording from a server and save it to the files</span>
<span class="n">record_from_server</span><span class="p">(</span><span class="s2">&quot;localhost:38801&quot;</span><span class="p">,</span> <span class="n">traj_path</span><span class="p">,</span> <span class="n">state_path</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="how-to-visualise-recordings">
<h3><a class="toc-backref" href="#id9" role="doc-backlink">How to visualise recordings</a><a class="headerlink" href="#how-to-visualise-recordings" title="Link to this heading"></a></h3>
<p>Visualising and playing back recordings can be done using <a class="reference internal" href="../python/nanover.omni.playback.html#module-nanover.omni.playback" title="nanover.omni.playback"><code class="xref py py-mod docutils literal notranslate"><span class="pre">nanover.omni.playback</span></code></a> module.
The Python Server can stream recorded NanoVer streams read by a <code class="docutils literal notranslate"><span class="pre">PlaybackSimulation</span></code> object to a client. The client then plays back the recording as if it were
a live stream.
The server sends the frame and state updates whilst trying to respect the timing dictated by the timestamps stored
in the file.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">nanover.omni</span> <span class="kn">import</span> <span class="n">OmniRunner</span>
<span class="kn">from</span> <span class="nn">nanover.omni.playback</span> <span class="kn">import</span> <span class="n">PlaybackSimulation</span>
<span class="n">simulation_recording</span> <span class="o">=</span> <span class="n">PlaybackSimulation</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;simulation-recording&#39;</span><span class="p">,</span>
                                       <span class="n">traj</span><span class="o">=</span><span class="s1">&#39;path/to/recording.traj&#39;</span><span class="p">,</span>
                                       <span class="n">state</span><span class="o">=</span><span class="s1">&#39;path/to/recording.state&#39;</span><span class="p">)</span>
<span class="c1"># Create a runner for the simulation</span>
<span class="n">recording_runner</span> <span class="o">=</span> <span class="n">OmniRunner</span><span class="o">.</span><span class="n">with_basic_server</span><span class="p">(</span><span class="n">simulation_recording</span><span class="p">,</span>
                                                <span class="n">name</span><span class="o">=</span><span class="s1">&#39;simulation-recording-server&#39;</span><span class="p">)</span>
<span class="c1"># Start the runner</span>
<span class="n">recording_runner</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
<span class="c1"># Close the runner</span>
<span class="n">recording_runner</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Further instructions and information on how to record and replay using the NanoVer Python module can be found in
this notebook <a class="reference external" href="https://github.com/IRL2/nanover-server-py/blob/main/examples/basics/recording_and_replaying.ipynb">recording_and_replaying.ipynb</a>.</p>
</div>
</section>
</section>
<section id="recording-with-the-rust-server">
<h2><a class="toc-backref" href="#id10" role="doc-backlink">Recording with the Rust Server</a><a class="headerlink" href="#recording-with-the-rust-server" title="Link to this heading"></a></h2>
<section id="id1">
<h3><a class="toc-backref" href="#id11" role="doc-backlink">How to record</a><a class="headerlink" href="#id1" title="Link to this heading"></a></h3>
<p>The Rust Server takes a snapshot of the streams 30 times a second (although this may change with
issues <a class="reference external" href="https://github.com/IRL2/nanover-server-rs/issues/200">#200</a> and
<a class="reference external" href="https://github.com/IRL2/nanover-server-rs/issues/201">#201</a>).</p>
<p>When using the <code class="docutils literal notranslate"><span class="pre">nanover-cli</span></code> command via the command line, use the <code class="docutils literal notranslate"><span class="pre">--trajectory</span></code> argument to specify the file that
will store the recording of the frame stream, and the <code class="docutils literal notranslate"><span class="pre">--state</span></code> argument to specify the file that will store
the recording of the shared state updates.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># For Windows Powershell</span>
<span class="o">.</span>\<span class="n">nanover</span><span class="o">-</span><span class="n">cli</span><span class="o">.</span><span class="n">exe</span> <span class="s2">&quot;simulation.xml&quot;</span> <span class="o">--</span><span class="n">trajectory</span> <span class="s2">&quot;path/to/recording.traj&quot;</span> <span class="o">--</span><span class="n">state</span> <span class="s2">&quot;path/to/recording.state&quot;</span>
</pre></div>
</div>
<p>On the graphical interface, the files are specified in the <code class="docutils literal notranslate"><span class="pre">Recording</span></code> section before starting the server
(see <a class="reference internal" href="../tutorials/basics.html#rust-server-via-the-gui"><span class="std std-ref">via the GUI</span></a>).</p>
</section>
<section id="id4">
<h3><a class="toc-backref" href="#id12" role="doc-backlink">How to visualise recordings</a><a class="headerlink" href="#id4" title="Link to this heading"></a></h3>
<p><strong>Using the the command line</strong>, providing only a <code class="docutils literal notranslate"><span class="pre">.traj</span></code> file will stream the frames only,
and providing only a <code class="docutils literal notranslate"><span class="pre">.state</span></code> file will stream the state updates only.
In order to send both streams together, provide the two file paths separated by a colon:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># For Windows Powershell</span>
<span class="o">.</span>\<span class="n">nanover</span><span class="o">-</span><span class="n">cli</span><span class="o">.</span><span class="n">exe</span> <span class="s2">&quot;path/to/recording.traj:path/to/recording.state&quot;</span>
</pre></div>
</div>
<p><strong>Using the graphical interface</strong>, add a recording to the list of simulations using the <code class="docutils literal notranslate"><span class="pre">+</span> <span class="pre">Recording</span></code> button,
then choose the files.</p>
</section>
</section>
<section id="reading-nanover-recordings-using-mdanalysis-in-python">
<h2><a class="toc-backref" href="#id13" role="doc-backlink">Reading NanoVer recordings using MDAnalysis in python</a><a class="headerlink" href="#reading-nanover-recordings-using-mdanalysis-in-python" title="Link to this heading"></a></h2>
<p>Recordings can be read and manipulated using the NanoVer python library.</p>
<p>The <a class="reference internal" href="../python/nanover.mdanalysis.html#module-nanover.mdanalysis" title="nanover.mdanalysis"><code class="xref py py-mod docutils literal notranslate"><span class="pre">nanover.mdanalysis</span></code></a> module enables us to read a NanoVer trajectory recording as an
<a class="reference external" href="https://userguide.mdanalysis.org/stable/universe.html#universe">MDAnalysis Universe</a>, which is a data structure used by the MDAnalysis library to handle molecular dynamics simulations.
As MDAnalysis does not support time-dependant topologies, only frames that correspond to the first topology in the
recording are read as part of the Universe.
If the topology changes throughout the recording, for instance because another simulation was loaded,
the library issues a warning and the frames with the new topology are ignored.</p>
<p>See the example code below, or check out the
<a class="reference external" href="https://github.com/IRL2/nanover-server-py/blob/main/examples/mdanalysis/mdanalysis_nanover_recording.ipynb">mdanalysis_nanover_recording</a>
jupyter notebook tutorial for further information.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">MDAnalysis</span> <span class="k">as</span> <span class="nn">mda</span>
<span class="kn">from</span> <span class="nn">nanover.mdanalysis</span> <span class="kn">import</span> <span class="n">NanoverParser</span><span class="p">,</span> <span class="n">NanoverReader</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">u</span> <span class="o">=</span> <span class="n">mda</span><span class="o">.</span><span class="n">Universe</span><span class="p">(</span>
    <span class="s1">&#39;hello.traj&#39;</span><span class="p">,</span>
    <span class="nb">format</span><span class="o">=</span><span class="n">NanoverReader</span><span class="p">,</span>
    <span class="n">topology_format</span><span class="o">=</span><span class="n">NanoverParser</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">times</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">frames</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">potential_energy</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">kinetic_energy</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">user_energy</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">timestamps</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">timestep</span> <span class="ow">in</span> <span class="n">u</span><span class="o">.</span><span class="n">trajectory</span><span class="p">:</span>
    <span class="n">frames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">timestep</span><span class="o">.</span><span class="n">frame</span><span class="p">)</span>
    <span class="n">times</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">timestep</span><span class="o">.</span><span class="n">time</span><span class="p">)</span>
    <span class="n">potential_energy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">timestep</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;energy.potential&quot;</span><span class="p">])</span>
    <span class="n">kinetic_energy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">timestep</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;energy.kinetic&quot;</span><span class="p">])</span>
    <span class="n">user_energy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">timestep</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;energy.user.total&quot;</span><span class="p">])</span>
    <span class="n">timestamps</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">timestep</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;elapsed&quot;</span><span class="p">])</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axis</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">axis</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">frames</span><span class="p">,</span> <span class="n">potential_energy</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Potential energy&#39;</span><span class="p">)</span>
<span class="n">axis</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">frames</span><span class="p">,</span> <span class="n">kinetic_energy</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Kinetic energy&#39;</span><span class="p">)</span>
<span class="n">axis</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">frames</span><span class="p">,</span> <span class="n">user_energy</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;User energy&#39;</span><span class="p">)</span>
<span class="n">axis</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">axis</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">10000</span><span class="p">)</span>
<span class="n">axis</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Frame index&quot;</span><span class="p">)</span>
<span class="n">axis</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Energy (kJ/mol)&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Lower level methods are available in <code class="xref py py-mod docutils literal notranslate"><span class="pre">nanover.mdanalysis.recordings</span></code> to read the content of the files directly.
We also have a <a class="reference external" href="https://github.com/IRL2/nanover-utils/tree/main/parsing-recordings/read_state.py">python script</a> located
in the <a class="reference external" href="https://github.com/IRL2/nanover-utils">nanover-utils</a> repository for parsing NanoVer shared state recordings.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="frames.html" class="btn btn-neutral float-left" title="Trajectories and Frames" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="base-protocol.html" class="btn btn-neutral float-right" title="The NanoVer gRPC protocol" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Intangible Realities Lab | University of Santiago de Compostela | University of Bristol | and other contributors. Last updated on Wed, 11 Dec 2024 17:55:11 UTC.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>