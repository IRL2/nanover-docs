

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>nanover.mdanalysis.universe module &mdash; NanoVer documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=23fdb008" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=23fdb008" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=a1998fca"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=f281be69"></script>
      <script src="../_static/custom.js?v=6d5f2585"></script>
      <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="nanover.nglview package" href="nanover.nglview.html" />
    <link rel="prev" title="nanover.mdanalysis.converter module" href="nanover.mdanalysis.converter.html" />
 
<link rel="icon" type="image/x-icon" href="../_static/favicon.ico">
<link rel="icon" type="image/png" sizes="32x32" href="../_static/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../_static/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="../_static/favicon.png">
<link rel="mask-icon" href="../_static/favicon.svg" color="#5bbad5">

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            NanoVer
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../highlights.html">Highlights</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation &amp; Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/concepts.html">Concepts</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../modules.html">Modules</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="nanover.html">nanover namespace</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="nanover.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="nanover.app.html">nanover.app package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nanover.ase.html">nanover.ase package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nanover.command.html">nanover.command package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nanover.core.html">nanover.core package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nanover.essd.html">nanover.essd package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nanover.imd.html">nanover.imd package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="nanover.mdanalysis.html">nanover.mdanalysis package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nanover.nglview.html">nanover.nglview package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nanover.omni.html">nanover.omni package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nanover.openmm.html">nanover.openmm package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nanover.protocol.html">nanover.protocol namespace</a></li>
<li class="toctree-l4"><a class="reference internal" href="nanover.recording.html">nanover.recording namespace</a></li>
<li class="toctree-l4"><a class="reference internal" href="nanover.state.html">nanover.state namespace</a></li>
<li class="toctree-l4"><a class="reference internal" href="nanover.testing.html">nanover.testing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nanover.trajectory.html">nanover.trajectory package</a></li>
<li class="toctree-l4"><a class="reference internal" href="nanover.utilities.html">nanover.utilities package</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../citations.html">How to Cite NanoVer</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">NanoVer</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../modules.html">Modules</a></li>
          <li class="breadcrumb-item"><a href="nanover.html">nanover namespace</a></li>
          <li class="breadcrumb-item"><a href="nanover.mdanalysis.html">nanover.mdanalysis package</a></li>
      <li class="breadcrumb-item active">nanover.mdanalysis.universe module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/python/nanover.mdanalysis.universe.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-nanover.mdanalysis.universe">
<span id="nanover-mdanalysis-universe-module"></span><h1>nanover.mdanalysis.universe module<a class="headerlink" href="#module-nanover.mdanalysis.universe" title="Link to this heading"></a></h1>
<p>Facilities to read a NanoVer trajectory recording into an MDAnalysis Universe.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">MDAnalysis</span> <span class="k">as</span> <span class="nn">mda</span>
<span class="kn">from</span> <span class="nn">nanover.mdanalysis</span> <span class="kn">import</span> <span class="n">NanoverReader</span><span class="p">,</span> <span class="n">NanoverParser</span>

<span class="n">u</span> <span class="o">=</span> <span class="n">mda</span><span class="o">.</span><span class="n">Universe</span><span class="p">(</span>
    <span class="s1">&#39;input.traj&#39;</span><span class="p">,</span>
    <span class="nb">format</span><span class="o">=</span><span class="n">NanoverReader</span><span class="p">,</span>
    <span class="n">topology_format</span><span class="o">=</span><span class="n">NanoverParser</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A NanoVer trajectory recording can have its topology change over time. It
can even contain trajectories for unrelated simulations. The topology in an
MDAnalysis Universe is constant. Only the frames corresponding to the first
topology are read in a Universe.</p>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="nanover.mdanalysis.universe.KeyConversion">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nanover.mdanalysis.universe.</span></span><span class="sig-name descname"><span class="pre">KeyConversion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">attribute</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conversion</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nanover.mdanalysis.universe.KeyConversion" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">NamedTuple</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="nanover.mdanalysis.universe.KeyConversion.attribute">
<span class="sig-name descname"><span class="pre">attribute</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><span class="pre">TopologyAttr</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#nanover.mdanalysis.universe.KeyConversion.attribute" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="nanover.mdanalysis.universe.KeyConversion.conversion">
<span class="sig-name descname"><span class="pre">conversion</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Callable</span></em><a class="headerlink" href="#nanover.mdanalysis.universe.KeyConversion.conversion" title="Link to this definition"></a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="nanover.mdanalysis.universe.NanoverParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nanover.mdanalysis.universe.</span></span><span class="sig-name descname"><span class="pre">NanoverParser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nanover.mdanalysis.universe.NanoverParser" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">TopologyReaderBase</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="nanover.mdanalysis.universe.NanoverParser.parse">
<span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nanover.mdanalysis.universe.NanoverParser.parse" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="nanover.mdanalysis.universe.NanoverReader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nanover.mdanalysis.universe.</span></span><span class="sig-name descname"><span class="pre">NanoverReader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convert_units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nanover.mdanalysis.universe.NanoverReader" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ProtoReader</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="nanover.mdanalysis.universe.NanoverReader.units">
<span class="sig-name descname"><span class="pre">units</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'force':</span> <span class="pre">'kJ/(mol*nm)',</span> <span class="pre">'length':</span> <span class="pre">'nm',</span> <span class="pre">'time':</span> <span class="pre">'ps',</span> <span class="pre">'velocity':</span> <span class="pre">'nm/ps'}</span></em><a class="headerlink" href="#nanover.mdanalysis.universe.NanoverReader.units" title="Link to this definition"></a></dt>
<dd><p>dict with units of of <em>time</em> and <em>length</em> (and <em>velocity</em>, <em>force</em>,
… for formats that support it)</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nanover.mdanalysis.universe.batched">
<span class="sig-prename descclassname"><span class="pre">nanover.mdanalysis.universe.</span></span><span class="sig-name descname"><span class="pre">batched</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nanover.mdanalysis.universe.batched" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nanover.mdanalysis.universe.explosion_mask">
<span class="sig-prename descclassname"><span class="pre">nanover.mdanalysis.universe.</span></span><span class="sig-name descname"><span class="pre">explosion_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">trajectory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_displacement</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nanover.mdanalysis.universe.explosion_mask" title="Link to this definition"></a></dt>
<dd><p>A mask to select the frames that are NOT explosions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>trajectory</strong> – The trajectory to mask.</p></li>
<li><p><strong>max_displacement</strong> – The maximum displacement in Angstrom along
a given axis before the frame is considered as exploding.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list with one boolean per frame in the trajectory.
The boolean is True is the frame is NOT exploding.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>KeyError</strong> – if the frames in the trajectory do not have
a reset counter. This can be the case for nanover trajectories
recorded from a server that does not keep track of resets in
the frames, or if the universe has not been built from a nanover
trajectory recording.</p>
</dd>
</dl>
<p>Here is an example of how to write a trajectory that excludes the
exploding frames:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">MDAnalysis</span> <span class="k">as</span> <span class="nn">mda</span>
<span class="kn">from</span> <span class="nn">nanover.mdanalysis</span> <span class="kn">import</span> <span class="n">NanoverParser</span><span class="p">,</span> <span class="n">NanoverReader</span><span class="p">,</span> <span class="n">explosion_mask</span>

<span class="n">u</span> <span class="o">=</span> <span class="n">mda</span><span class="o">.</span><span class="n">Universe</span><span class="p">(</span>
    <span class="s1">&#39;hello.traj&#39;</span><span class="p">,</span>
    <span class="nb">format</span><span class="o">=</span><span class="n">NanoverReader</span><span class="p">,</span>
    <span class="n">topology_format</span><span class="o">=</span><span class="n">NanoverParser</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">mask</span> <span class="o">=</span> <span class="n">explosion_mask</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">trajectory</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">u</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;hello.pdb&#39;</span><span class="p">)</span>
<span class="n">u</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;hello.xtc&#39;</span><span class="p">,</span> <span class="n">frames</span><span class="o">=</span><span class="n">mask</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="nanover.mdanalysis.universe.has_topology">
<span class="sig-prename descclassname"><span class="pre">nanover.mdanalysis.universe.</span></span><span class="sig-name descname"><span class="pre">has_topology</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="nanover.trajectory.frame_data.html#nanover.trajectory.frame_data.FrameData" title="nanover.trajectory.frame_data.FrameData"><span class="pre">FrameData</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#nanover.mdanalysis.universe.has_topology" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="nanover.mdanalysis.converter.html" class="btn btn-neutral float-left" title="nanover.mdanalysis.converter module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="nanover.nglview.html" class="btn btn-neutral float-right" title="nanover.nglview package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Intangible Realities Lab | University of Santiago de Compostela | University of Bristol | and other contributors. Last updated on Fri, 06 Dec 2024 11:19:55 UTC.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>