 .. _invrmenus:

========================
Navigating NanoVer in VR
========================

.. contents:: Contents
    :depth: 2
    :local:

Main menu: connecting to a NanoVer server
=========================================

.. important::
    To press a button on the main menu in VR,
    **place the end of your right controller** on the button and **click the trigger**.

You have several options for connecting to a NanoVer server:

* **Autoconnect**: connect to the first server (using the default port) found on the network.
* **Discover**: find all servers (using the default port) on the network and list them for the user to choose from.
* **Manual**: allow the user to specify the IP address and port of the server they wish to connect to and then, if found, connect to it.

Select from the dropdown options below to see the **video tutorials**:

.. dropdown:: Autoconnect

   .. list-table::
       :widths: 40 60
       :header-rows: 0

       * - .. video:: /_static/in-vr-menu_autoconnect.mp4
             :width: 250
             :height: 250

         - Click ``Autoconnect``. If a server was found, the menu will close and you will see your simulation.


.. dropdown:: Discover

   .. list-table::
       :widths: 40 60
       :header-rows: 0

       * - .. video:: /_static/in-vr-menu_discover.mp4
             :width: 250
             :height: 250

         - Click ``Discover`` to show a list of available servers. Click your chosen server or click ``Refresh`` to
           search again.


.. dropdown:: Manual

   .. list-table::
       :widths: 40 60
       :header-rows: 0

       * - .. video:: /_static/in-vr-menu_manual.mp4
             :width: 250
             :height: 250

         - Click ``Manual``, then type your IP address & port and click ``Connect``.
           If a server was found, the menu will close and you will see your simulation.


Controls & menus
================

Once you have connected to a server, you can visualize & interact with your simulation,
and have access to several menus.

.. contents:: Contents
    :depth: 2
    :local:

----

In-simulation controls
######################

You can access the main controls anytime you are in the simulation space and don't have any menus open.

Select from the dropdown options below to see the **video tutorials**:

.. dropdown:: Interact with the simulation

   .. list-table::
       :widths: 40 60
       :header-rows: 0

       * - .. video:: /_static/in-vr-menu_interaction.mp4
             :width: 250
             :height: 250

         - Press and hold the trigger button on either controller to apply a force to the nearest atom of the molecule.
           You can use both controllers at the same time.


.. dropdown:: Move the simulation box

   .. list-table::
       :widths: 40 60
       :header-rows: 0

       * - .. video:: /_static/in-vr-menu_move-box.mp4
             :width: 250
             :height: 250

         - Press and hold the grip button on either controller to move the simulation box.


.. dropdown:: Resize the simulation box

   .. list-table::
       :widths: 40 60
       :header-rows: 0

       * - .. video:: /_static/in-vr-menu_resize-box.mp4
             :width: 250
             :height: 250

         - Press and hold both grip buttons to move & resize the simulation box.


.. dropdown:: Change the magnitude of the interaction force

   .. list-table::
       :widths: 40 60
       :header-rows: 0

       * - .. video:: /_static/in-vr-menu_change-interaction-scale.mp4
             :width: 250
             :height: 250

         - Push and hold the joystick on the right controller to the right to increase the force, or to the left to decrease it.
           Doing so will alter the scaling value of the interaction force (see video).
           Note that this changes the force for both controllers.

----

Right hand menus
################

Here you can adjust aspects of your interaction with the molecules, including:

* **Select your interaction type**: toggle between interacting with individual atoms or entire residues


Handheld menu (right)
~~~~~~~~~~~~~~~~~~~~~

.. important::
    Open the right handheld menu by **holding the joystick of your right controller in the down position**.
    With the joystick held down, move your controller to a button and press the trigger to click it.
    Release the joystick to close the menu.

Open the dropdown below to see the **video tutorial**:

.. dropdown:: Select your interaction type

   .. list-table::
       :widths: 40 60
       :header-rows: 0

       * - .. video:: /_static/in-vr-menu_change-interaction-type.mp4
             :width: 250
             :height: 250

         - Select your interaction type:

           * ``Single`` (default): when interacting, you will apply a force to the nearest atom.

           * ``Residue``: when interacting, you will apply a force to the nearest residue.


----

Left hand menus
###############

Within these menus you can:

* run simulation commands, such as play/pause/reset
* switch between loaded simulations
* customize your avatar

Handheld menu (left)
~~~~~~~~~~~~~~~~~~~~

.. important::
    Open the left handheld menu by **holding the joystick of your left controller in the down position**.
    With the joystick held down, move your controller to a button and press the trigger to click it.
    Release the joystick to close the menu.

Here, you will see the following options:

* **Pause**: pauses a running simulation.
* **Play**: plays a paused simulation.
* **Reset**: resets the system to its initial coordinates.

Select from the dropdown options below to see the **video tutorials**:

.. dropdown:: Pause

   .. list-table::
       :widths: 40 60
       :header-rows: 0

       * - .. video:: /_static/in-vr-menu_pause.mp4
             :width: 250
             :height: 250

         - Select the ``Pause`` button.

.. dropdown:: Play

   .. list-table::
       :widths: 40 60
       :header-rows: 0

       * - .. video:: /_static/in-vr-menu_play.mp4
             :width: 250
             :height: 250

         - Select the ``Play`` button.

.. dropdown:: Reset

   .. list-table::
       :widths: 40 60
       :header-rows: 0

       * - .. video:: /_static/in-vr-menu_reset.mp4
             :width: 250
             :height: 250

         - Select the ``Reset`` button.


Full screen menu
~~~~~~~~~~~~~~~~

Click ``Menu`` on the left handheld menu to open the full screen menu.
Here you will be able to:

* switch between loaded simulations
* customize your avatar name & color

.. important::
    Once you have opened the full screen menu, release the joystick on your left controller
    and use your **right controller** to interact with the buttons.
    When you are finished, click ``Back`` to return to the simulation.


Select from the dropdown options below to see the **video tutorials**:

.. dropdown:: Switch between loaded simulations

   .. list-table::
       :widths: 40 60
       :header-rows: 0

       * - .. video:: /_static/in-vr-menu_switch-simulation.mp4
             :width: 250
             :height: 250

         - Select ``Sims`` and choose from the list of simulations loaded onto the server.
           Click ``Back`` to return to the full screen menu.

.. dropdown:: Customize your avatar

   .. list-table::
       :widths: 40 60
       :header-rows: 0

       * - .. video:: /_static/in-vr-menu_change-name-and-color.mp4
             :width: 250
             :height: 250

         - **Change your avatar name**
            Click on your avatar name at the bottom of the full screen menu.
            Delete the previous name, type a new one, and click ``>`` to return to the full screen menu.

           **Change your avatar color**
            Select one of the colored circles around your avatar (on the full screen menu).

           Although not visible to you, these fields are stored in the shared state and determine how others will see your
           avatar during multiplayer sessions.


